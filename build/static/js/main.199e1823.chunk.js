(this.webpackJsonpmoedata=this.webpackJsonpmoedata||[]).push([[0],{100:function(t,e,a){"use strict";a.r(e);var s=a(0),r=a.n(s),n=a(41),i=a.n(n),c=(a(51),a(52),a(21)),l=a(8),o=a(11),u=a(12),d=a(13),m=a(14),h=a(18),p=a(1),b=a(3),w=a.n(b),f=a(7),v=a(42),P=a.n(v),k=a(43),y=function(t){var e=Math.random()*(1-.7)+.7;return r.a.createElement(k.a,Object.assign({speed:2,width:1200,height:70,backgroundColor:"#424242",foregroundColor:"#ffffff"},t),r.a.createElement("rect",{x:"30",y:"15",rx:"4",ry:"4",width:"6",height:"6.4"}),r.a.createElement("rect",{x:"64",y:"13",rx:"6",ry:"6",width:200*e,height:"12"}),r.a.createElement("rect",{x:"643",y:"13",rx:"6",ry:"6",width:23*e,height:"12"}),r.a.createElement("rect",{x:"683",y:"13",rx:"6",ry:"6",width:78*e,height:"12"}),r.a.createElement("rect",{x:"785",y:"13",rx:"6",ry:"6",width:117*e,height:"12"}),r.a.createElement("rect",{x:"968",y:"13",rx:"6",ry:"6",width:83*e,height:"12"}),r.a.createElement("rect",{x:"0",y:"39",rx:"6",ry:"6",width:"1060",height:".3"}))},g=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(o.a)(this,a),(s=e.call(this,t)).myRef=r.a.createRef(),s.state={Loading:!0,album:{Loading:!0,Label:"",albumArt:"",P31:"",P2207:"",P264:"",P136:[],P2635:0,P577:"",P175:[],Upc:"",Copyrights:[]},wdAlbum:{Loading:!0,result:{entities:{wdId:{claims:{P175:[{mainsnak:{datavalue:{value:{id:""}}}}],P658:[]}}}}},wdLabel:{Loading:!0,result:{entities:{wdId:{labels:{en:{value:""}}}}}},wdTrack:{Loading:!0,result:{entities:{}}},wdQuery:{Loading:!0,result:""}},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=Object(f.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAlbum2();case 2:return t.next=4,this.getWDAlbum();case 4:return t.next=6,this.getWDInfo();case 6:return t.next=8,this.getWDQuery();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAlbum2",value:function(){var t=Object(f.a)(w.a.mark((function t(){var e,a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://cors-anywhere.herokuapp.com/https://tatsumo.pythonanywhere.com/api/album/"+this.props.page,{headers:{Accept:"application/json"}});case 2:return e=t.sent,t.next=5,e.json();case 5:a=t.sent,this.setState(Object(p.a)({},this.state,{album:{Loading:!1,Label:a.name,albumArt:a.image.l,P31:a.type,P2205:a.id,P264:a.label,P136:a.json.genres,P2635:a.json.total_tracks,P577:a.json.release_date,P175:a.json.artists,Upc:a.json.external_ids.upc,Copyrights:a.json.copyrights,Tracks:a.json.tracks.items,Tracks2:a.tracks}}));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getWDQuery",value:function(){var t=Object(f.a)(w.a.mark((function t(){var e=this;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!1===this.state.wdLabel.Loading&&this.props.qid?("https://query.wikidata.org/sparql",Object.values(this.state.wdLabel.result.entities).map(function(){var t=Object(f.a)(w.a.mark((function t(a,s){var r,n,i,c,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return'SELECT ?item ?item_label WHERE {\n                  ?item wdt:P175 wd:%ARTIST%.\n                  ?item rdfs:label ?item_label filter (lang(?item_label) = "en").\n                  minus{ ?item wdt:P31/wdt:P279* wd:Q273057.}\n                  minus{ ?item wdt:P31/wdt:P279* wd:Q482994.}\n                  minus{ ?item wdt:P31/wdt:P279* wd:Q169930.}\n                  minus{ ?item wdt:P31/wdt:P279* wd:Q20737336.}\n                  minus{ ?item wdt:P31/wdt:P279* wd:Q11424.}\n                }\n                LIMIT 500',r='SELECT ?item ?item_label WHERE {\n                  ?item wdt:P175 wd:%ARTIST%.\n                  ?item rdfs:label ?item_label filter (lang(?item_label) = "en").\n                  minus{ ?item wdt:P31/wdt:P279* wd:Q273057.}\n                  minus{ ?item wdt:P31/wdt:P279* wd:Q482994.}\n                  minus{ ?item wdt:P31/wdt:P279* wd:Q169930.}\n                  minus{ ?item wdt:P31/wdt:P279* wd:Q20737336.}\n                  minus{ ?item wdt:P31/wdt:P279* wd:Q11424.}\n                }\n                LIMIT 500'.replace(/%ARTIST%/,a.id),n="https://query.wikidata.org/sparql?query="+encodeURIComponent(r),i={headers:{Accept:"application/sparql-results+json"}},t.next=6,fetch(n,i);case 6:return c=t.sent,t.next=9,c.json();case 9:l=t.sent,e.setState({Loading:!1,album:Object(p.a)({},e.state.album),wdAlbum:Object(p.a)({},e.state.wdAlbum),wdLabel:Object(p.a)({},e.state.wdLabel),wdTrack:Object(p.a)({},e.state.wdTrack),wdQuery:{Loading:!1,result:l}});case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())):this.setState({Loading:!1,album:Object(p.a)({},this.state.album),wdAlbum:Object(p.a)({},this.state.wdAlbum),wdLabel:Object(p.a)({},this.state.wdLabel),wdTrack:Object(p.a)({},this.state.wdTrack),wdQuery:Object(p.a)({Loading:!1},this.state.wdQuery)});case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getWDInfo",value:function(){var t=Object(f.a)(w.a.mark((function t(){var e,a,s,r,n,i,c,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.props.qid||!1!==this.state.wdAlbum.Loading){t.next=31;break}if(!Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P175)){t.next=14;break}return e=(e=this.state.wdAlbum.result.entities[this.props.qid].claims.P175.map((function(t,e){return(e?"|":"")+t.mainsnak.datavalue.value.id}))).join(""),a="https://cors-anywhere.herokuapp.com/https://www.wikidata.org/w/api.php?action=wbgetentities&format=json&props=labels&languages=en&ids=".concat(e),t.next=7,fetch(a);case 7:return s=t.sent,t.next=10,s.json();case 10:r=t.sent,this.setState({Loading:!0,album:Object(p.a)({},this.state.album),wdAlbum:Object(p.a)({},this.state.wdAlbum),wdLabel:{Loading:!1,result:r}}),t.next=15;break;case 14:this.setState({Loading:!0,album:Object(p.a)({},this.state.album),wdAlbum:Object(p.a)({},this.state.wdAlbum),wdLabel:Object(p.a)({Loading:!1},this.state.wdAlbum)});case 15:if(!Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P658)){t.next=28;break}return n=(n=this.state.wdAlbum.result.entities[this.props.qid].claims.P658.map((function(t,e){return(e?"|":"")+t.mainsnak.datavalue.value.id}))).join(""),i="https://cors-anywhere.herokuapp.com/https://www.wikidata.org/w/api.php?action=wbgetentities&props=aliases|labels|claims&languages=en&redirects=no&format=json&ids=".concat(n),t.next=21,fetch(i);case 21:return c=t.sent,t.next=24,c.json();case 24:l=t.sent,this.setState({Loading:!0,album:Object(p.a)({},this.state.album),wdAlbum:Object(p.a)({},this.state.wdAlbum),wdLabel:Object(p.a)({},this.state.wdLabel),wdTrack:{Loading:!1,result:l}}),t.next=29;break;case 28:this.setState({Loading:!0,album:Object(p.a)({},this.state.album),wdAlbum:Object(p.a)({},this.state.wdAlbum),wdLabel:Object(p.a)({},this.state.wdLabel),wdTrack:{Loading:!1,result:{entities:{}}}});case 29:t.next=32;break;case 31:console.log("No WD item found!");case 32:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getWDAlbum",value:function(){var t=Object(f.a)(w.a.mark((function t(){var e,a,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.props.qid){t.next=9;break}return e="https://cors-anywhere.herokuapp.com/https://www.wikidata.org/w/api.php?action=wbgetentities&props=aliases|labels|claims&languages=en&redirects=no&format=json&ids=".concat(this.props.qid),t.next=4,fetch(e);case 4:return a=t.sent,t.next=7,a.json();case 7:s=t.sent,this.setState({Loading:!0,album:Object(p.a)({},this.state.album),wdAlbum:{Loading:!1,result:s}});case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getSelectedAlbum",value:function(){var t=Object(f.a)(w.a.mark((function t(e){var a,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://cors-anywhere.herokuapp.com/https://www.wikidata.org/w/api.php?action=wbgetentities&props=aliases|labels|claims&languages=en&redirects=no&format=json&ids=".concat(e),t.next=3,fetch(a);case 3:return s=t.sent,t.next=6,s.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"QSitem",value:function(t,e){var a;if(Array.isArray(null===(a=this.state.wdAlbum.result.entities[this.props.qid].claims)||void 0===a?void 0:a.P175)){var s,r,n,i,c,l=t.nr-1,o=this.state.album.P577+"TT00:00:00Z/11",u="Q7302866",d="Q15982450",m=this.state.album.Tracks[l].id,p=this.state.album.Tracks2[l].isrc;if(Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P577)){var b=this.state.wdAlbum.result.entities[this.props.qid].claims.P577[0].mainsnak.datavalue.value.time;o=b+"/"+this.state.wdAlbum.result.entities[this.props.qid].claims.P577[0].mainsnak.datavalue.value.precision;var w=(b=b.replace(/T00.*/,"")).split("-"),f=Object(h.a)(w,3);n=f[0],i=f[1],f[2]}else{var v=this.state.album.P577.split("-"),P=Object(h.a)(v,3);n=P[0],i=P[1],P[2]}"undefined"==typeof i&&(o=this.state.album.P577+"TT00:00:00Z/9");var k=this.state.album.P175.map((function(t,e){return(e?", ":"")+t.name})),y=this.state.wdAlbum.result.entities[this.props.qid].claims.P175.map((function(t,e){return"||LAST|P175|"+t.mainsnak.datavalue.value.id}));y=(y=y.filter((function(t){return![null,void 0].includes(t)}))).join("");var g=this.state.album.Tracks[l].name.replace(/\s-\s(?=[^-]*$).*/g,"");if(""===(g=(g=(g=g.replace(/ *\([f|F]eat[^)]*\) */g,"")).replace(/ *\([w|W]ith[^)]*\) */g,"")).replace(/ *\([m|M]ed[^)]*\) */g,""))&&(g=this.state.album.Tracks[l].name),g===g.toUpperCase()&&(g=(g=g.toLowerCase()).replace(/(^\w{1})|(\s{1}\w{1})/g,(function(t){return t.toUpperCase()}))),""===t.wdId&&!1===t.queryMatch)return'||CREATE||LAST|Len|"'.concat(g,'"||LAST|Den|"').concat(parseInt(n)," song by ").concat(k,'"||LAST|P31|').concat(u,"||LAST|P361|").concat(this.props.qid,'|P1545|"').concat(t.nr,'"').concat(y,"||LAST|P577|").concat(o,"|P1552|").concat(this.props.qid,"||LAST|P2047|").concat(Math.floor(this.state.album.Tracks[l].duration_ms/1e3),"U11574|P518|").concat(d,'||LAST|P1476|mul:"').concat(g,'"||LAST|P1243|"').concat(p,'"|P4390|Q39893449||LAST|P2207|"').concat(m,'"|P4390|Q39893449|P1810|"').concat(this.state.album.Tracks[l].name,'"||LAST|P437|').concat(d,"||").concat(this.props.qid,'|P658|LAST|P1545|"').concat(t.nr,'"');var A=t.queryMatch?null===(s=e.entities[t.wdId])||void 0===s?void 0:s.claims:null===(r=this.state.wdTrack.result.entities[t.wdId])||void 0===r?void 0:r.claims;if(Array.isArray(A.P31)){for(var x,E,q,L,T=t.queryMatch?null===(x=e.entities[t.wdId])||void 0===x||null===(E=x.claims)||void 0===E?void 0:E.P31:null===(q=this.state.wdTrack.result.entities[t.wdId])||void 0===q||null===(L=q.claims)||void 0===L?void 0:L.P31,j=!1,O=0;O<T.length;O++)T[O].mainsnak.datavalue.value.id===u&&(j=!0);j||(c+="||".concat(t.wdId,"|P31|").concat(u))}else c+="||".concat(t.wdId,"|P31|").concat(u);if(Array.isArray(A.P1243)||(c+="||".concat(t.wdId,'|P1243|"').concat(p,'"')),Array.isArray(A.P1476)||(c+="||".concat(t.wdId,'|P1476|mul:"').concat(g,'"')),Array.isArray(A.P2047)||(c+="||".concat(t.wdId,"|P2047|").concat(Math.floor(this.state.album.Tracks[l].duration_ms/1e3),"U11574|P518|").concat(d)),Array.isArray(A.P2207)){for(var I=!1,S=0;S<A.P2207.length;S++){var C;if(A.P2207[S].mainsnak.datavalue.value===m)if(I=!0,!Array.isArray(null===(C=A.P2207[S].qualifiers)||void 0===C?void 0:C.P1810)){c+="||".concat(t.wdId,'|P2207|"').concat(m,'"|P1810|"').concat(this.state.album.Tracks[l].name,'"');break}}I||(c+="||".concat(t.wdId,'|P2207|"').concat(m,'"|P1810|"').concat(this.state.album.Tracks[l].name,'"'))}else c+="||".concat(t.wdId,'|P2207|"').concat(m,'"|P1810|"').concat(this.state.album.Tracks[l].name,'"');if(Array.isArray(A.P437)){for(var Q,M=0;M<A.P437.length;M++)if(A.P437[M].mainsnak.datavalue.value.id===d){Q=!0;break}Q||(c+="||".concat(t.wdId,"|P437|").concat(d))}else c+="||".concat(t.wdId,"|P437|").concat(d);if(Array.isArray(A.P361)){for(var _,z=0;z<A.P361.length;z++){var N;if(A.P361[z].mainsnak.datavalue.value.id===this.props.qid)if(_=!0,!Array.isArray(null===(N=A.P361[z].qualifiers)||void 0===N?void 0:N.P1545)){c+="||".concat(t.wdId,"|P361|").concat(this.props.qid,'|P1545|"').concat(t.nr,'"');break}}_||(c+="||".concat(t.wdId,"|P361|").concat(this.props.qid,'|P1545|"').concat(t.nr,'"'))}else c+="||".concat(t.wdId,"|P361|").concat(this.props.qid,'|P1545|"').concat(t.nr,'"');if(!Array.isArray(A.P175)&&y)c+=y=y.replace(/LAST/gm,"".concat(t.wdId));else{for(var V=this.state.wdAlbum.result.entities[this.props.qid].claims.P175.map((function(t,e){return t.mainsnak.datavalue.value.id})),U=0;U<A.P175.length;U++)if(V.includes(A.P175[U].mainsnak.datavalue.value.id)){var W=V.indexOf(A.P175[U].mainsnak.datavalue.value.id);W>-1&&V.splice(W,1)}if(void 0!==V||0!==V.length)for(var R=0;R<V.length;R++)c+="||".concat(t.wdId,"|P175|").concat(V[R])}if(Array.isArray(A.P577)){for(var D=!1,B=0;B<A.P577.length;B++)11!==A.P577[B].mainsnak.datavalue.value.precision&&"9"!==o.substr(o.length-1)||(D=!0);D||(c+="||".concat(t.wdId,"|P577|").concat(o,"|P1552|").concat(this.props.qid))}else c+="||".concat(t.wdId,"|P577|").concat(o,"|P1552|").concat(this.props.qid);return 0===t.P1545&&(c+="||".concat(this.props.qid,"|P658|").concat(t.wdId,'|P1545|"').concat(t.nr,'"')),c}return alert("The album item is missing performer (P175)"),-1}},{key:"generateQS",value:function(){var t=Object(f.a)(w.a.mark((function t(e){var a,s,r,n,i,c,l,o,u,d,m,p,b,f,v,P,k,y,g,A,x,E,q,L,T,j,O,I,S,C,Q,M,_,z,N,V,U,W,R,D,B,Z,H;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.props.qid){t.next=119;break}for(a=["Q61629664","Q61629680","Q61747994","Q70931744"],s=["","","Q1242743","Q2712714"],i=0,c=this.state.album.Tracks[this.state.album.Tracks.length-1].disc_number,l=0;l<e.length;l++)e[l].queryMatch&&"undefined"!=typeof e[l].wdId&&(r+=(l?"|":"")+e[l].wdId),i+=this.state.album.Tracks[l].duration_ms;if(!r){t.next=17;break}return t.next=9,r.replace(/undefined/,"");case 9:if("|"!==(r=t.sent)[0]){t.next=14;break}return t.next=13,r.replace(/\|/,"");case 13:r=t.sent;case 14:return t.next=16,this.getSelectedAlbum(r);case 16:n=t.sent;case 17:if(o=this.state.album.P175.map((function(t,e){return(e?", ":"")+t.name})),u="",d=this.state.album.P577.split("-"),m=Object(h.a)(d,3),p=m[0],b=m[1],f=m[2],"%"===e[0]&&("Q482994","Q5608",u="\n            }".concat(this.state.album.Label,",").concat(p," album by ").concat(o,",").concat("Q482994",",").concat("Q5608")),Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P31)||("Q482994",u+="||".concat(this.props.qid,"|P31|").concat("Q482994")),Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P6500),v=this.state.album.P2205,P=this.state.album.Label,Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P2205)){t.next=29;break}u+="||".concat(this.props.qid,'|P2205|"').concat(v,'"|P1810|"').concat(P,'"'),t.next=41;break;case 29:k=!1,y=0;case 31:if(!(y<this.state.wdAlbum.result.entities[this.props.qid].claims.P2205.length)){t.next=40;break}if(this.state.wdAlbum.result.entities[this.props.qid].claims.P2205[y].mainsnak.datavalue.value!==v){t.next=37;break}if(k=!0,null===(g=this.state.wdAlbum.result.entities[this.props.qid].claims.P2205[y])||void 0===g||null===(A=g.qualifiers)||void 0===A?void 0:A.P1810){t.next=37;break}return u+="||".concat(this.props.qid,'|P2205|"').concat(v,'"|P1810|"').concat(P,'"'),t.abrupt("break",40);case 37:y++,t.next=31;break;case 40:k||(u+="||".concat(this.props.qid,'|P2205|"').concat(v,'"|P1810|"').concat(P,'"'));case 41:if(Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P577)||(x="+"+p+"-"+b+"-"+f+"T00:00:00Z/11","01"===b&&"01"===f&&(x="+"+p+"-01-01T00:00:00Z/9"),u+="||".concat(this.props.qid,"|P577|").concat(x)),E="Q15982450",Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P2047)||i>0&&(u+="||".concat(this.props.qid,"|P2047|").concat(Math.floor(i/1e3),"U11574|P518|").concat(E)),Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P3962)||(q=this.state.album.Upc,u+="||".concat(this.props.qid,'|P3962|"').concat(q,'"')),L=this.state.album.Tracks.length,Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P2635)){t.next=52;break}if(T=1,j="",1!==c){for(O=0;O<this.state.album.Tracks.length;O++)T!==this.state.album.Tracks[O].disc_number?(T=this.state.album.Tracks[O].disc_number,j+="||".concat(this.props.qid,"|P2635|").concat(this.state.album.Tracks[O-1].track_number,"U7302866|P518|").concat(a[T-2])):this.state.album.Tracks[O].track_number===this.state.album.Tracks[this.state.album.Tracks.length-1].track_number&&this.state.album.Tracks[O].disc_number===this.state.album.Tracks[this.state.album.Tracks.length-1].disc_number&&(j+="||".concat(this.props.qid,"|P2635|").concat(this.state.album.Tracks[O].track_number,"U7302866|P518|").concat(a[this.state.album.Tracks[O].disc_number-1])),T=this.state.album.Tracks[O].disc_number;2!==c&&3!==c||(j+="||".concat(this.props.qid,"|P7937|").concat(s[c])),u+=j}else u+="||".concat(this.props.qid,"|P2635|").concat(L,"U7302866|P518|").concat(E);t.next=64;break;case 52:I=!1,S=0;case 54:if(!(S<this.state.wdAlbum.result.entities[this.props.qid].claims.P2635.length)){t.next=63;break}if(parseInt(this.state.wdAlbum.result.entities[this.props.qid].claims.P2635[S].mainsnak.datavalue.value.amount)!==L&&!(null===(C=this.state.wdAlbum.result.entities[this.props.qid].claims.P2635[S])||void 0===C||null===(Q=C.qualifiers)||void 0===Q?void 0:Q.P518)){t.next=60;break}if(I=!0,(null===(M=this.state.wdAlbum.result.entities[this.props.qid].claims.P2635[S])||void 0===M||null===(_=M.qualifiers)||void 0===_?void 0:_.P437)||(null===(z=this.state.wdAlbum.result.entities[this.props.qid].claims.P2635[S])||void 0===z||null===(N=z.qualifiers)||void 0===N?void 0:N.P518)){t.next=60;break}return u+="||".concat(this.props.qid,"|P2635|").concat(L,"U7302866|P437|").concat(E),t.abrupt("break",63);case 60:S++,t.next=54;break;case 63:I||(u+="||".concat(this.props.qid,"|P2635|").concat(L,"U7302866|P437|").concat(E));case 64:if(Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P437)){t.next=68;break}u+="||".concat(this.props.qid,"|P437|").concat(E),t.next=78;break;case 68:V=!1,U=0;case 70:if(!(U<this.state.wdAlbum.result.entities[this.props.qid].claims.P437.length)){t.next=77;break}if(this.state.wdAlbum.result.entities[this.props.qid].claims.P437[U].mainsnak.datavalue.value.id!==E){t.next=74;break}return V=!0,t.abrupt("break",77);case 74:U++,t.next=70;break;case 77:V||(u+="||".concat(this.props.qid,"|P437|").concat(E));case 78:if(this.state.album.Label.toLowerCase()!==this.state.album.P175[0].name.toLowerCase()){t.next=94;break}if(W="Q11999895",Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P1552)){t.next=84;break}u+="||".concat(this.props.qid,"|P1552|").concat(W),t.next=94;break;case 84:R=!1,D=0;case 86:if(!(D<this.state.wdAlbum.result.entities[this.props.qid].claims.P1552.length)){t.next=93;break}if(this.state.wdAlbum.result.entities[this.props.qid].claims.P1552[D].mainsnak.datavalue.value.id!==W){t.next=90;break}return R=!0,t.abrupt("break",93);case 90:D++,t.next=86;break;case 93:R||(u+="||".concat(this.props.qid,"|P1552|").concat(W));case 94:if(Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P1476)||((B=this.state.album.Label)===B.toUpperCase()&&(B=(B=B.toLowerCase()).replace(/(^\w{1})|(\s{1}\w{1})/g,(function(t){return t.toUpperCase()}))),u+="||".concat(this.props.qid,'|P1476|mul:"').concat(B,'"')),1!==c){t.next=108;break}Z=0;case 97:if(!(Z<e.length)){t.next=106;break}if(e[Z].skip){t.next=103;break}if(-1!==(H=this.QSitem(e[Z],n))){t.next=102;break}return t.abrupt("break",106);case 102:u+=(" "+H).slice(1);case 103:Z++,t.next=97;break;case 106:t.next=109;break;case 108:alert("Multi-disc releases not yet supported by MoeData - use at own risk");case 109:return t.next=111,u.replace(/undefined/gm,"");case 111:return u=t.sent,t.next=114,u.replace(/&/gm,"\ufe60");case 114:u=t.sent,console.log("Raw QS:",u),window.open("https://tools.wmflabs.org/quickstatements/index_old.html#v1="+u,"_blank"),t.next=120;break;case 119:alert("Missing Wikidata item (album)! You want to create an album item? That is not implemented, yet!");case 120:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"MatchWD",value:function(t,e){var a=this;if(!1===this.state.wdTrack.Loading){var s="";if(Array.isArray(this.state.wdAlbum.result.entities[this.props.qid].claims.P658))if(s=this.state.wdAlbum.result.entities[this.props.qid].claims.P658.map((function(t,e){return t.qualifiers&&"undefined"!==typeof t.qualifiers.P1545?{label:a.state.wdTrack.result.entities[t.mainsnak.datavalue.value.id].labels.en.value,alias:a.state.wdTrack.result.entities[t.mainsnak.datavalue.value.id].aliases.en,id:t.mainsnak.datavalue.value.id,P1545:parseInt(t.qualifiers.P1545[0].datavalue.value),queryMatch:!1}:{label:a.state.wdTrack.result.entities[t.mainsnak.datavalue.value.id].labels.en.value,alias:a.state.wdTrack.result.entities[t.mainsnak.datavalue.value.id].aliases.en,id:t.mainsnak.datavalue.value.id,P1545:0,queryMatch:!1}})),Array.isArray(s))for(var r=0;r<s.length;r++)if(0!==s[r].P1545){if(s[r].P1545===t)return s[r]}else{if(e.toLowerCase()===s[r].label.toLowerCase())return s[r];if(e.toLowerCase().replace(/ *\([^)]*\) */g,"")===s[r].label.toLowerCase())return s[r];if(e.toLowerCase().replace(/..[^-]+$/g,"")===s[r].label.toLowerCase())return s[r];if("undefined"!==typeof s[r].alias&&e.toLowerCase()===s[r].alias[0].value.toLowerCase())return s[r]}else console.log("404:",s);if(!1===this.state.wdQuery.Loading)for(var n=0;n<this.state.wdQuery.result.results.bindings.length;n++){var i=this.state.wdQuery.result.results.bindings[n].item_label.value,c=this.state.wdQuery.result.results.bindings[n].item.value;if(i.toLowerCase()===e.toLowerCase())return{id:c.substr(c.lastIndexOf("/")+1),label:i,queryMatch:!0,P1545:0};if(i.toLowerCase()===e.toLowerCase().replace(/ *\([^)]*\) */g,""))return{id:c.substr(c.lastIndexOf("/")+1),label:i,queryMatch:!0,P1545:0};if(i.toLowerCase().replace(/ *\([^)]*\) */g,"")===e.toLowerCase().replace(/ *\([^)]*\) */g,""))return{id:c.substr(c.lastIndexOf("/")+1),label:i,queryMatch:!0,P1545:0};if(i.toLowerCase()===e.toLowerCase().replace(/..[^-]+$/g,""))return{id:c.substr(c.lastIndexOf("/")+1),label:i,queryMatch:!0,P1545:0}}return""}}},{key:"render",value:function(){var t,e=this,a=function(){return r.a.createElement(y,null)};this.props.qid&&(t=r.a.createElement("span",{className:"barcode",style:{fontSize:"20px"}},"(",r.a.createElement("a",{href:"https://www.wikidata.org/wiki/".concat(this.props.qid)},this.props.qid),")"));var s=[];if(!1===this.state.wdAlbum.Loading)for(var n=Object.values(this.state.wdLabel.result.entities),i="",c=0;c<n.length;c++){var l=[];i=n[c].id;for(var o=Object.values(n[c].labels),u=0;u<o.length;u++)l.push(o[u].value);s.push({id:i,value:l})}var d,m,h,p=this.state.album.P31,b=Array.isArray(this.state.album.P175)&&this.state.album.P175.map((function(t,e){var a="";if(Array.isArray(s)&&s.length)for(var n=0;n<s.length;n++){for(var i=0;i<s[n].value.length;i++)if(s[n].value[i].toLowerCase()===t.name.toLowerCase()){a=s[n].id;break}if(""!==a)break}return r.a.createElement("span",{key:e+1},r.a.createElement("a",{style:{Display:"inline-block"},key:"/artist/".concat(t.id),href:"/artist/".concat(t.id)},(e?", ":"")+t.name),r.a.createElement("a",{href:"https://www.wikidata.org/wiki/".concat(a)},r.a.createElement("span",{key:"/wd/".concat(a),className:"barcode",style:{fontSize:"12px"}},a?" ("+a+")":"")))})),w=r.a.createElement("svg",{viewBox:"0 0 1000 1000",width:20,height:20},r.a.createElement("path",{d:"M846.5 153.5c-191.4-191.4-501.6-191.4-693 0s-191.4 501.6 0 693 501.6 191.4 693 0c191.3-191.4 191.3-501.6 0-693zm-86.6 86.6c128.8 128.8 142 329.3 39.7 472.8L287.1 200.4c143.5-102.2 344-89 472.8 39.7zM240.1 759.9c-128.8-128.8-142-329.3-39.7-472.8l512.5 512.5c-143.5 102.2-344 89-472.8-39.7z",fill:"#d60005"})),f=r.a.createElement("svg",{viewBox:"0 0 1000 1000",width:20,height:20},r.a.createElement("path",{d:"M990 494.2c0-10.2-4.4-19.3-11.3-25.7l-386.8-334c-6.2-5.2-14-8.5-22.7-8.5-19.4 0-35.1 15.7-35.1 35.1V309C238.5 356.6 30.3 573.9 10 852.9c1 11.8 10.6 21.2 22.7 21.2 4.6 0 9-1.4 12.7-3.8.1-.1 0 .2.1.2 51.1-36.3 95.2-63.3 129.7-81.5 62.8-34.6 151.6-64.1 253.6-83v-.2c14.6 0 26.4-12.1 26.4-27s-11.8-27-26.4-27c-3.4 0-6.6.7-9.6 1.9-163.3 32-270.9 84.1-355.3 144.5 54.5-200.3 188.3-380.5 502.8-439.7 13.9-2.3 24.5-14.6 24.5-29.6V215l325.7 279.3L594.7 770h-2.4V634h-.1c-.9-15.7-13.6-28.1-29-28.1-16.1 0-29.1 13.4-29.1 30V828c0 19.4 15.6 35.1 35.1 35.1 8.3 0 15.7-3.1 21.7-7.9L977.8 521l-.1-.1c7.5-6.4 12.3-16 12.3-26.7z",fill:"#f08600"})),v=[];this.state.Loading&&this.props.qid||this.state.album.Loading?m=r.a.createElement("div",{className:"album-tracklist"},Array(10).fill("").map((function(t,e){return r.a.createElement(a,{key:e,style:{opacity:Number(2/e).toFixed(1)}})}))):(h=r.a.createElement("tr",null,r.a.createElement("td",null,"#"),r.a.createElement("td",null,"Title"),r.a.createElement("td",null,"Artist(s)"),r.a.createElement("td",null,"ISRC"),r.a.createElement("td",null,"Length"),r.a.createElement("td",null,"Wikidata item")),d=Array.isArray(this.state.album.Tracks)&&this.state.album.Tracks.map((function(t,a){var s=t.artists.map((function(t,e){return(e?", ":"")+t.name})),n=t.duration_ms/1e3,i=Math.floor(n%60).toString(),c=i.length<2?"0".concat(i):i,l=Math.floor(n/60),o="".concat(l,":").concat(c),u=e.MatchWD(a+1,t.name),d="\u24e7";return u&&e.props.qid&&(d=r.a.createElement("a",{style:{fontSize:"16px",display:"inline-block"},href:"https://www.wikidata.org/wiki/".concat(u.id)},u.label," ",r.a.createElement("span",{className:"barcode"},"(",u.queryMatch?"*":"",u.id,")"))),e.props.qid&&u?v.push({nr:a+1,spotTitle:t.name,wdTitle:u.label,wdId:u.id,queryMatch:u.queryMatch,P1545:u.P1545,spotArtist:s,wdStatus:d,minutes:o,skip:!1}):v.push({nr:a+1,spotTitle:t.name,wdTitle:"",wdId:"",queryMatch:!1,P1545:0,spotArtist:s,wdStatus:d,minutes:o,skip:!1}),r.a.createElement("tr",{key:a+1},r.a.createElement("td",null,v[a].nr,"."),r.a.createElement("td",null,r.a.createElement("a",{href:t.external_urls.spotify},' "',t.name,'" ')),r.a.createElement("td",null,s),r.a.createElement("td",{className:"isrc"},e.state.album.Tracks2[a].isrc),r.a.createElement("td",null,v[a].minutes),r.a.createElement("td",{ref:e.myRef},v[a].wdStatus,"\xa0",r.a.createElement("a",{style:{display:"inline-block"},href:"javascript:",onClick:function(){var t=a;v[t].wdStatus="\u24e7",v[t].wdId="",v[t].P1545=0,console.log("Removed match of track ".concat(t+1," registered!"))}},w),"\xa0",r.a.createElement("a",{style:{display:"inline-block"},href:"javascript:",onClick:function(){var t=a;v[t].skip=!0,console.log("Skip of track ".concat(t+1," registered!"))}}," ",f," ")))})));var k=Array.isArray(this.state.album.Copyrights)&&this.state.album.Copyrights.map((function(t,e){if("P"===t.type){var a=t.text.replace(/\(P\)/,"&#8471;");return r.a.createElement("div",{key:e},P()(a))}return""})),g=!1;return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"album-summary"},r.a.createElement("img",{className:"album-cover",src:this.state.album.albumArt,alt:"Album cover"}),r.a.createElement("div",{className:"album-metadata"},r.a.createElement("div",{className:"bold"},r.a.createElement("h1",null,this.state.album.Label," ",t)),r.a.createElement("div",null,p," by ",b),r.a.createElement("div",null,r.a.createElement("span",{className:"bold"},"Label: "),this.state.album.P264),k,r.a.createElement("div",null,r.a.createElement("span",{className:"bold"},"Release date: "),this.state.album.P577),r.a.createElement("div",null,r.a.createElement("span",{className:"bold"},"Barcode: "),r.a.createElement("span",{className:"barcode"},this.state.album.Upc)),r.a.createElement("div",{style:{display:"flex"}},w,r.a.createElement("span",null,"\xa0Unmatch this track and create new.\xa0"),f,r.a.createElement("span",null,"\xa0Skip this track (no creation). No feedback on buttons."))),m,r.a.createElement("table",{className:"album-tracklist"},r.a.createElement("tbody",null,h,d)),r.a.createElement("div",{className:"footer-button"},r.a.createElement("button",{className:"buttonWD",onClick:function(){return alert("Not implemented, yet!")}},"Import to Wikidata"),r.a.createElement("button",{className:"buttonQS",onClick:function(){e.generateQS([].concat(v)),g=!0}},g?"Loading...":"QuickStatements (QS)"))))}}]),a}(r.a.Component);var A=function(t){return s.createElement("svg",Object.assign({viewBox:"320 -50 250 250",id:"prefix__Layer_1",x:0,y:0,width:526,height:108,xmlSpace:"preserve"},t),s.createElement("style",null,".prefix__st1{fill:#069}.prefix__st2{fill:#900}"),s.createElement("path",{d:"M212.6 38h18.7l26.9 65h.3l27-65h18.7v91h-16V66.8h-.2L261.9 129H255l-26.1-62.1h-.3V129h-16V38zM352 58.1c19.9 0 33.5 14.7 33.5 36.4s-13.7 36.4-33.5 36.4-33.4-14.7-33.4-36.4 13.6-36.4 33.4-36.4zm0 14.3c-11.1 0-17.8 8.2-17.8 22.1s6.8 22.1 17.8 22.1c11.3 0 17.9-8.5 17.9-22.1 0-13.6-6.6-22.1-17.9-22.1zm74.7-14.3c19.1 0 31.9 14.6 31.9 35.6V99h-48.2c.5 11.1 6.9 18.3 16.6 18.3 7.7 0 12.9-3.4 18.1-11.3l11.4 8.3c-6.2 10.9-16.4 16.5-29.5 16.5-19.1 0-32.4-14.7-32.4-36.4 0-21.3 13.4-36.3 32.1-36.3zm16.4 29.5c-.5-9.8-6.5-16-16.3-16-9 0-15.9 6.8-16.4 16h32.7zM472.9 38h30.3c24.1 0 39.7 17.3 39.7 45.5 0 29.1-15.5 45.5-39.9 45.5h-30V38zm29.9 76c15.1 0 23.8-10.1 23.8-30.6 0-19.8-8.8-30.6-23.5-30.6h-13.9V114h13.6zM577 88.7c11.6-3 15.2-5.1 15.2-9.4 0-4.8-4.2-7.8-11.1-7.8-7.8 0-13.1 4.6-14.6 12.2l-14.7-3.1c1.2-6.8 4.3-12.2 9.6-16.3 5.3-4.2 12-6.2 19.6-6.2 16.6 0 27 9.5 27 25V129h-14v-6h-.3c-3.5 5.1-10.3 7.9-18.7 7.9-13.7 0-22.6-7.9-22.6-20.3 0-11.5 6.9-17.8 24.6-21.9zm15.9 5.2h-.3c-1.4 2.5-4.7 4.3-12 6.4-9.5 2.5-13.1 5.1-13.1 9.4 0 5.2 3.4 7.8 10.1 7.8 9 0 15.2-4.8 15.2-11.7V93.9zM641.6 74v34.2c0 4.6 1.7 5.9 7.3 5.9h6.9v15h-8.3c-15.5 0-21.5-5.5-21.5-20V74h-11.3V60.1H626V43.3h15.6v16.8h17V74h-17zm46.7 14.7c11.6-3 15.2-5.1 15.2-9.4 0-4.8-4.2-7.8-11-7.8-7.8 0-13.1 4.6-14.6 12.2l-14.7-3.1c1.2-6.8 4.3-12.2 9.6-16.3 5.3-4.2 12-6.2 19.6-6.2 16.6 0 27 9.5 27 25V129h-14.2v-6h-.3c-3.5 5.1-10.3 7.9-18.7 7.9-13.7 0-22.6-7.9-22.6-20.3.1-11.5 7-17.8 24.7-21.9zm15.9 5.2h-.3c-1.4 2.5-4.7 4.3-12 6.4-9.5 2.5-13.1 5.1-13.1 9.4 0 5.2 3.4 7.8 10.1 7.8 9 0 15.2-4.8 15.2-11.7V93.9z",fill:"#fff"}),s.createElement("path",{className:"prefix__st1",d:"M124.8 82.5V10.7c0-5.8 3.1-9.7 8.5-10.6 5-.8 10.1 2.8 10.9 7.8.2 1.3.3 2.6.3 4v141.3c0 1.6-.1 3.4-.6 4.9-1.2 4.4-5.7 7.5-10 7-5-.5-8.7-4.2-9.1-9.3-.1-.9 0-1.7 0-2.6V82.5z"}),s.createElement("path",{className:"prefix__st2",d:"M50.6 80.2v55.2c0 5.6-3.1 9.5-8.3 10.4-5 1-10.3-2.7-11.1-7.7-.2-1.4-.3-2.8-.3-4.2V26.4c0-1.6.1-3.4.5-4.9 1.2-4.4 5.7-7.5 9.9-7.1 5.1.5 8.7 4.2 9.2 9.2.1.9 0 1.7 0 2.6.1 18 .1 36 .1 54z"}),s.createElement("path",{className:"prefix__st1",d:"M113.5 84.1v46.2c0 4.2-2.1 7.3-5.9 8.9-3.7 1.6-7.2 1-10.3-1.6-2.4-2.1-3.3-4.8-3.3-8V38.3c0-5.9 4.2-10.3 9.7-10.3 5.5 0 9.8 4.4 9.8 10.2v45.9z"}),s.createElement("path",{d:"M81.5 88.5v31.2c0 4.9-3.7 9-8.3 9.5-5.3.6-9.6-2.3-10.9-7.3-.2-.7-.3-1.4-.3-2.2V57.5c0-5.2 3.7-9.1 9.1-9.7 4.5-.5 9.1 2.9 10.1 7.6.2 1 .2 2.1.2 3.2.1 10.1.1 20 .1 29.9zm93.9 15.2v26.2c0 6.2-4.9 10.7-10.9 10.1-5.3-.5-8.8-4.8-8.8-11V78.2c0-3.9 1.1-7.3 4.6-9.4 3.2-2 6.5-2.2 9.9-.4 3.5 1.8 5.2 4.9 5.2 8.8.1 8.8 0 17.7 0 26.5z",fill:"#396"}),s.createElement("path",{className:"prefix__st2",d:"M0 76.9V58.1c.1-5.3 3.4-9.2 8.5-10 5-.8 10.1 2.8 10.9 7.8.2 1.2.3 2.5.3 3.8 0 11.5.1 23.1 0 34.6 0 1.9-.2 3.9-.9 5.7-1.6 4.2-6.2 6.6-10.3 5.9-5-.9-8.3-4.6-8.4-9.7-.2-6.5-.1-12.9-.1-19.3z"}))},x=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t,e=this.props.match.params.id,a=e.match(/[0-9A-Za-z]{22}/),s=/&qid=([q|Q][0-9][0-9]+)/.exec(e);return Array.isArray(s)&&s.length&&(t=s[1]),a?r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",zIndex:"3",position:"relative"},className:"size"},r.a.createElement(A,null)),r.a.createElement(g,{page:a,qid:t})):r.a.createElement(l.a,{to:{pathname:"/404"}})}}]),a}(r.a.Component),E=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",zIndex:"3",position:"relative"},className:"size"},r.a.createElement(A,null)),r.a.createElement("h1",null,"UNDER CONSTRUCTION!!"))}}]),a}(r.a.Component),q=function(){return r.a.createElement("div",{style:{zIndex:"3",position:"relative",margin:"0",overflow:"hidden"}},r.a.createElement("h1",{style:{fontSize:"120px"}},r.a.createElement("span",{style:{color:"#990000",fontSize:"320px"}},"404 "),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"#339966"}},"Moebeus")," ",r.a.createElement("span",{style:{color:"#006699"}},"not")," ",r.a.createElement("span",{style:{color:"#339966"}},"found!")))};var L=function(){return r.a.createElement(c.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/album/:id",render:function(t){return r.a.createElement(x,t)}}),r.a.createElement(l.b,{exact:!0,path:"/artist/:id",render:function(t){return r.a.createElement(E,t)}}),r.a.createElement(l.b,{exact:!0,path:"/404",component:q}),r.a.createElement(l.b,{component:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement("div",null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},46:function(t,e,a){t.exports=a(100)},51:function(t,e,a){},52:function(t,e,a){},78:function(t,e){}},[[46,1,2]]]);